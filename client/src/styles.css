:root{
  --bg:#0b0f14;
  --panel:rgba(255,255,255,.07);
  --border:rgba(255,255,255,.12);
  --text:rgba(255,255,255,.92);
  --muted:rgba(255,255,255,.65);

  --card:#f7f3ea;
  --ink:#121821;

  --r:18px;
  --shadowSoft:0 10px 24px rgba(0,0,0,.25);
  --ease:cubic-bezier(.2,.8,.2,1);
}

html,body,#root{
  height:100%;
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
  background: var(--bg) !important;
  color: var(--text);
}

.kg-bg{
  min-height:100%;
  background:
    radial-gradient(1100px 700px at 20% 10%, rgba(80,140,255,.18), transparent 55%),
    radial-gradient(900px 700px at 80% 20%, rgba(255,180,80,.10), transparent 60%),
    radial-gradient(900px 700px at 55% 95%, rgba(120,255,200,.08), transparent 55%),
    var(--bg);
}

.kg-wrap{
  max-width: 980px;
  margin: 0 auto;
  padding: 12px;
  display:flex;
  flex-direction:column;
  gap: 12px;
}

.kg-panel{
  background: var(--panel);
  border: 1px solid var(--border);
  border-radius: var(--r);
  box-shadow: var(--shadowSoft);
  backdrop-filter: blur(10px);
}

.kg-topbar{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding: 10px 12px;
}

.kg-title{ font-weight: 700; }
.kg-chip{
  font-size:12px;
  color: var(--muted);
  padding: 6px 10px;
  border-radius: 999px;
  background: rgba(255,255,255,.08);
  border: 1px solid rgba(255,255,255,.10);
}

.kg-table{
  display:grid;
  grid-template-rows: auto 1fr auto;
  gap: 10px;
  padding: 10px;
}

.kg-center{
  display:flex;
  align-items:center;
  justify-content:center;
  gap: 16px;
  padding: 10px 0;
}

.kg-stack{ width: 86px; height: 118px; position:relative; }

.kg-cardback{
  position:absolute;
  inset:0;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,.16);
  background:
    radial-gradient(140px 120px at 40% 35%, rgba(255,255,255,.18), transparent 60%),
    linear-gradient(145deg, rgba(255,255,255,.14), rgba(255,255,255,.05));
  box-shadow: 0 12px 28px rgba(0,0,0,.22);
}

.kg-cardback:nth-child(2){ transform: translate(3px, -3px); opacity:.9; }
.kg-cardback:nth-child(3){ transform: translate(6px, -6px); opacity:.75; }

.kg-card{
  width: 86px;
  height: 118px;
  border-radius: 14px;
  background: var(--card);
  color: var(--ink);
  border: 1px solid rgba(0,0,0,.10);
  box-shadow: 0 12px 28px rgba(0,0,0,.22);
  display:flex;
  align-items:center;
  justify-content:center;
  position:relative;
  user-select:none;
  transition: transform 140ms var(--ease);
}
.kg-card:hover{ transform: translateY(-2px); }

.kg-rank-corner{
  position:absolute;
  font-size: 12px;
  font-weight: 700;
  line-height: 1;
}
.kg-rank-tl{ top:10px; left:10px; }
.kg-rank-br{ bottom:10px; right:10px; transform: rotate(180deg); }

.kg-hand{
  display:grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 10px;
  justify-items:center;
  padding: 10px;
}

.kg-btnrow{
  display:flex;
  gap: 8px;
  justify-content:flex-end;
  padding: 10px;
}

.kg-btn{
  border-radius: 14px;
  padding: 10px 12px;
  border: 1px solid rgba(255,255,255,.16);
  background: rgba(255,255,255,.10);
  color: var(--text);
  cursor:pointer;
  transition: transform 140ms var(--ease), background 140ms var(--ease);
}
.kg-btn:hover{ transform: translateY(-1px); background: rgba(255,255,255,.14); }

.kg-muted{ color: var(--muted); }

.kg-activity{ position: sticky; top: 0; z-index: 10; overflow:hidden; }
.kg-activity-collapsed{ display:flex; align-items:center; justify-content:space-between; padding: 10px 12px; }
.kg-activity-expanded{ max-height: 34vh; overflow:auto; padding: 10px 12px; border-top: 1px solid rgba(255,255,255,.10); }
.kg-logline{ font-size: 13px; color: var(--muted); padding: 6px 0; border-bottom: 1px solid rgba(255,255,255,.06); }

@media (max-width: 480px){
  .kg-center{ gap: 12px; }
  .kg-card, .kg-stack{ width: 78px; height: 108px; }
}
